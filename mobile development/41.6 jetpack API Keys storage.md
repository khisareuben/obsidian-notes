
we need to keep our private keys somewhere safe and that's what we are gonna do today


### Step 1: local.properties file

we need to store our keys in the `local.properties` files as it is included in the .gitignore file for privacy

```kotlin

....
UNSPLASH_API_KEY = "n3agQAuOv7j9wmluZsbqaUxzyUc-5upenAIL-VCCBN8"

```


### Step 2: modify you build.gradle file

In the `build.gradle.kts` file include this:

```kotlin

android {  
    namespace = "com.example.photofetch"  
    compileSdk = 36  
  
    defaultConfig {  
        applicationId = "com.example.photofetch"  
        minSdk = 24  
        targetSdk = 36  
        versionCode = 1  
        versionName = "1.0"  
  
        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"  
  
		  //this is the added code
        val properties = Properties()  
        properties.load(project.rootProject.file("local.properties").inputStream())  
        buildConfigField("String", "UNSPLASH_API_KEY", properties.getProperty("UNSPLASH_API_KEY"))  
    }
    
    buildFeatures {  
        buildConfig = true  //also add this line
        compose = true  
    }  
}

```

**Note:** after this part you need to rebuild your project (if there is no rebuild option in the build section, just choose clean project and when its done create an apk build)

### Step 2: create your constant file

create a file where you can access you api key from

```kotlin

object Constants {  
  
    const val API_KEY = BuildConfig.UNSPLASH_API_KEY  
    const val BASE_URL = "https://api.unsplash.com/"  
}

```


#### Lastly you should inject it in the app module


```kotlin

val appModule = module {  
  
    single {  
        val contentType = "application/json".toMediaType()  
        val json = Json { ignoreUnknownKeys = true }  
  
        val client = OkHttpClient.Builder()  //this too
            .addInterceptor(AuthInterceptor())  
            .build()  
  
        Retrofit.Builder()  
            .baseUrl(Constants.BASE_URL)  
            .client(client)  //this too
            .addConverterFactory(json.asConverterFactory(contentType))  
            .build()  
            .create(UnsplashApiService::class.java)  
    }  
  
    viewModel { HomeViewModel(get()) }  
  
} 

// this is it 
  
class AuthInterceptor : Interceptor {  
    override fun intercept(chain: Interceptor.Chain): Response {  
        val request = chain.request().newBuilder()  
            .addHeader("Authorization", "Client-ID ${Constants.API_KEY}")  
            .build()  
        return chain.proceed(request)  
    }  
}

```